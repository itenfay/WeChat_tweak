//
//     Generated by class-dump 3.5 (64 bit).
//
//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2013 by Steve Nygard.
//

#import "NSObject.h"

#import "FTSMsgSearchTaskDelegate.h"
#import "IAsyncTaskProtocol.h"
#import "IMsgExt.h"
#import "IWCFTSCacheExt.h"
#import "WXGImportMessageNotification.h"

@class AsyncTaskQueueEngine, FTSDB, FTSMessageDB, FTSMsgIndexMgr, FTSMsgSearchTask, NSMutableArray, NSMutableDictionary, NSMutableSet, NSObject<OS_dispatch_queue>, NSRecursiveLock, NSString;

@interface FTSMessageMgr : NSObject <FTSMsgSearchTaskDelegate, IAsyncTaskProtocol, IMsgExt, WXGImportMessageNotification, IWCFTSCacheExt>
{
    FTSMessageDB *_ftsMessageDB;
    AsyncTaskQueueEngine *_asyncTaskQueueEngine;
    FTSDB *_ftsDB;
    NSRecursiveLock *_lock;
    _Bool _hasInitTask;
    _Bool _hasForegroundTask;
    _Bool _hasBackgroundTask;
    NSMutableArray *_arrSessionUser;
    NSMutableDictionary *_dicLatestSession;
    _Bool _hasNewMessage;
    _Bool _needMonitorReport;
    _Bool _enableTimerTask;
    _Bool _isTimerTasking;
    NSRecursiveLock *_indexMemCacheLock;
    _Bool _bStopCacheMsg;
    NSMutableDictionary *_dicUnIndexMsgCache;
    _Bool _bShouldReloadUpdatedSession;
    NSMutableSet *_setUpdatedSession;
    unsigned int _uiMsgIndexTaskControllTimestamp;
    NSObject<OS_dispatch_queue> *_ftsCleanQueue;
    FTSMsgSearchTask *_homePageSearchTask;
    FTSMsgSearchTask *_morePageSearchTask;
    FTSMsgSearchTask *_firstRestrictSearchTask;
    FTSMsgSearchTask *_secondRestrictSearchTask;
    _Bool _isFirstRestrictPageAgainSearch;
    _Bool _isSecondeRestrictPageAgainSearch;
    FTSMsgIndexMgr *_indexMgr;
}

- (void).cxx_destruct;
- (void)OnAddMsg:(id)arg1 MsgWrap:(id)arg2;
@property(retain, nonatomic) NSMutableArray *arrSessionUser; // @synthesize arrSessionUser=_arrSessionUser;
- (unsigned int)asyncGetFTSMsgDBInfoWhenComplete:(CDUnknownBlockType)arg1;
- (void)asyncMonitorReport;
- (void)asyncRestrictSearch:(id)arg1 isMainPage:(_Bool)arg2;
- (void)asyncSearchTextForDetailPage:(id)arg1;
- (void)asyncSearchTextForHomePage:(id)arg1;
- (void)cacheUnIndexMsg:(id)arg1 forKey:(id)arg2;
- (unsigned int)calAllMemMsgCount;
- (void)cancelRestrictSearch:(_Bool)arg1;
- (void)cancelSearchForDetailPage;
- (void)cancelSearchForHomePage;
- (_Bool)checkExistIndexForMessage:(id)arg1 content:(id *)arg2;
- (void)checkIndexTimerTask;
- (void)clearIndexMemCache;
- (void)dealloc;
@property(retain, nonatomic) NSMutableDictionary *dicLatestSession; // @synthesize dicLatestSession=_dicLatestSession;
- (void)doIndexIfNeeded;
- (void)enableIndexMemCache:(_Bool)arg1;
- (void)enableTimerTask:(_Bool)arg1;
- (void)excuteBackgroundTask;
- (void)excuteForegroundTask;
- (void)excuteInitTask;
- (void)excuteTimerTask;
- (id)getDetailPageArrLastQuerywords;
- (id)getDetailPageLastQueryText;
- (id)getDetailPageNewestQuery;
- (id)getHomePageArrLastQuerywords;
- (id)getHomePageLastQuerText;
- (id)getHomePageLastQueryText;
- (unsigned int)getIndexNotReadyCount:(id)arg1;
- (unsigned long long)getMsgItemsCountForDetailPage:(id)arg1;
- (unsigned long long)getMsgItemsCountForHomePage:(id)arg1;
- (id)getRestrictPageArrLastQuerywords:(_Bool)arg1;
- (id)getRestrictPageLastQueryText:(_Bool)arg1;
- (id)getRestrictPageNewestQuery:(_Bool)arg1;
- (id)getRestrictRealQueryPartFromQuery:(id)arg1 isMainPage:(_Bool)arg2;
- (id)getRestrictSearchResult:(id)arg1 isMainPage:(_Bool)arg2;
- (id)getRestrictSectionResult:(id)arg1 isMainPage:(_Bool)arg2;
- (id)getRestrictTalkerPartFromQuery:(id)arg1 isMainPage:(_Bool)arg2;
- (id)getSessionMsgItemsForDetailPage:(id)arg1 index:(unsigned long long)arg2;
- (id)getSessionMsgItemsForHomePage:(id)arg1 index:(unsigned long long)arg2;
- (unsigned long long)getSessionUserCountForHomePage:(id)arg1;
- (id)getSessionUsersForDetailPage:(id)arg1;
- (id)getTaskForContext:(int)arg1;
- (_Bool)hasBackgroundTask;
- (_Bool)hasCreateAllIndex:(id)arg1;
- (_Bool)hasForegroundTask;
- (_Bool)hasIndexMessageResultForHomePage:(id)arg1;
- (_Bool)hasInitTask;
- (_Bool)hasMemoryMessageResultForHomePage:(id)arg1;
- (_Bool)hasProtentialTalkerSearchEntry:(id)arg1;
- (_Bool)hasSearchDoneForDetailPage:(id)arg1;
- (_Bool)hasSearchDoneForHomePage:(id)arg1;
- (_Bool)hasSearchDoneForRestrictSearch:(id)arg1 isMainPage:(_Bool)arg2;
- (_Bool)hasSearchResultForHomePage:(id)arg1;
- (_Bool)hasTimerTask;
@property(retain, nonatomic) FTSMsgIndexMgr *indexMgr; // @synthesize indexMgr=_indexMgr;
- (id)init;
- (void)initDB:(id)arg1 asyncTaskQueueEngine:(id)arg2;
- (void)initIndexMgr:(id)arg1;
- (_Bool)isDetailPageLikelyTalkerSearch:(id)arg1;
- (_Bool)isLikelyTalkerSearch:(id)arg1 isMainPage:(_Bool)arg2;
- (_Bool)isMsgTaskOnFirstSearch:(id)arg1;
- (void)makeDetailPageTaskIfNil;
- (void)makeDetailRestrictPageTaskIfNil;
- (void)makeFirstRestrictPageTaskIfNil;
- (void)makeHomePageTaskIfNil;
- (void)memSearchLog:(id)arg1 searchDone:(_Bool)arg2 isComplete:(_Bool)arg3;
@property(nonatomic) _Bool needMonitorReport; // @synthesize needMonitorReport=_needMonitorReport;
- (void)onEnterBackground;
- (void)onImportMessageSuccess;
- (void)onMsgSearchTaskResultChanged:(_Bool)arg1 taskObj:(id)arg2;
- (void)onPreRecoverFTSDB;
- (void)onReceiveMemoryWarning;
- (void)onRecoverFTSDB;
- (void)onSyncDeleteMsgs:(id)arg1 session:(id)arg2 delAll:(_Bool)arg3;
- (void)prepareRestrictSearch:(id)arg1 restrictSessionUsr:(id)arg2 restrictTalkerUsr:(id)arg3 restrictTalkerMatchTip:(id)arg4 restrictTalkerQuery:(id)arg5 sessionFirst:(_Bool)arg6 isMainPage:(_Bool)arg7;
- (void)reloadDB;
- (void)removeAllTask;
- (void)removeUnIndexMsg:(id)arg1 forKey:(id)arg2;
- (void)removeUnIndexMsgFromID:(unsigned int)arg1 toID:(unsigned int)arg2 forKey:(id)arg3;
- (void)removeUnIndexMsgList:(id)arg1 forKey:(id)arg2;
- (void)resetCache;
- (id)safeCopyUnIndexMsgCache;
- (void)setDetailPageNewestQuery:(id)arg1;
- (void)setHomepageNewestQuery:(id)arg1;
- (void)setNeedsInitTask;
- (void)setRestrictPageAgainSearch:(_Bool)arg1 isMainPage:(_Bool)arg2;
- (void)setRestrictPageNewestQuery:(id)arg1 isMainPage:(_Bool)arg2;
- (_Bool)shouldCacheMsg:(id)arg1;
- (void)tryWakeUpTimerTask;
- (void)updateIndexTaskState;
- (void)updateLatestSession;
- (void)wakeUpForegroundTask;

// Remaining properties
@property(readonly, copy) NSString *debugDescription;
@property(readonly, copy) NSString *description;
@property(readonly) unsigned long long hash;
@property(readonly) Class superclass;

@end

